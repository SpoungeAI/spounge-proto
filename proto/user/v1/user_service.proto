syntax = "proto3";

package user.v1;

import "google/protobuf/empty.proto";
import "user/v1/user.proto";
import "user/v1/api_key.proto";
import "user/v1/workflow.proto";

option go_package = "gen/go/user/v1;userv1";

// Profile service methods
service UserProfileService {
  rpc GetProfile(GetProfileRequest) returns (ProfileResponse);
  rpc UpdateProfile(UpdateProfileRequest) returns (ProfileResponse);
  rpc DeleteProfile(DeleteProfileRequest) returns (.google.protobuf.Empty);
}

// API key service methods
service APIKeyService {
  rpc CreateKey(CreateAPIKeyRequest) returns (APIKey);
  rpc DeleteKey(DeleteAPIKeyRequest) returns (.google.protobuf.Empty);
  rpc ListKeys(ListAPIKeysRequest) returns (APIKeysResponse);
}

// Workflow config service methods
service ConfigService {
  rpc CreateOverlay(CreateOverlayRequest) returns (OverlayResponse);
  rpc GetOverlay(GetOverlayRequest) returns (OverlayResponse);
  rpc ListOverlays(ListOverlaysRequest) returns (ListOverlaysResponse);
  rpc DeleteOverlay(DeleteOverlayRequest) returns (.google.protobuf.Empty);

  rpc CreateWorkflow(CreateWorkflowRequest) returns (WorkflowResponse);
  rpc GetWorkflow(GetWorkflowRequest) returns (WorkflowResponse);
  rpc DeleteWorkflow(DeleteWorkflowRequest) returns (.google.protobuf.Empty);
}
