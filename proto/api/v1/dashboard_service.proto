syntax = "proto3";

package api.v1;

import "google/api/annotations.proto";
import "iam/v1/api_key.proto";
import "iam/v1/managed_secret.proto";
import "user/v1/user.proto";
import "workflow/v1/execution.proto";
import "workflow/v1/workflow.proto";

option go_package = "github.com/spounge-ai/spounge-protos/gen/go/api/v1;apiv1";

service DashboardService {
  rpc GetDashboard(GetDashboardRequest) returns (GetDashboardResponse) {
    option (google.api.http) = {get: "/v1/dashboard"};
  }
}

message GetDashboardRequest {}

message GetDashboardResponse {
  user.v1.UserProfile user_profile = 1;
  repeated workflow.v1.WorkflowConfig recent_workflows = 2;
  repeated workflow.v1.WorkflowExecution recent_executions = 3;
  repeated iam.v1.APIKey api_keys = 4;
  repeated iam.v1.ManagedSecret managed_secrets = 5;
}
