// File: proto/vector_db/v1/vector_db.proto
// Defines a provider-agnostic interface for a vector database service.

// @generated by protoc-gen-es v2.6.0 with parameter "target=ts,import_extension=none"
// @generated from file vector_db/v1/vector_db.proto (package vector_db.v1, syntax proto3)
/* eslint-disable */

import type { GenFile, GenMessage, GenService } from "@bufbuild/protobuf/codegenv2";
import { fileDesc, messageDesc, serviceDesc } from "@bufbuild/protobuf/codegenv2";
import type { Status } from "../../common/v1/common_pb";
import { file_common_v1_common } from "../../common/v1/common_pb";
import { file_google_protobuf_struct } from "@bufbuild/protobuf/wkt";
import type { JsonObject, Message } from "@bufbuild/protobuf";

/**
 * Describes the file vector_db/v1/vector_db.proto.
 */
export const file_vector_db_v1_vector_db: GenFile = /*@__PURE__*/
  fileDesc("Chx2ZWN0b3JfZGIvdjEvdmVjdG9yX2RiLnByb3RvEgx2ZWN0b3JfZGIudjEiTwoGVmVjdG9yEgoKAmlkGAEgASgJEg4KBnZhbHVlcxgCIAMoAhIpCghtZXRhZGF0YRgDIAEoCzIXLmdvb2dsZS5wcm90b2J1Zi5TdHJ1Y3QiUwoLUXVlcnlSZXN1bHQSCgoCaWQYASABKAkSDQoFc2NvcmUYAiABKAISKQoIbWV0YWRhdGEYAyABKAsyFy5nb29nbGUucHJvdG9idWYuU3RydWN0Ik8KDVVwc2VydFJlcXVlc3QSFwoPY29sbGVjdGlvbl9uYW1lGAEgASgJEiUKB3ZlY3RvcnMYAiADKAsyFC52ZWN0b3JfZGIudjEuVmVjdG9yIksKDlVwc2VydFJlc3BvbnNlEiEKBnN0YXR1cxgBIAEoCzIRLmNvbW1vbi52MS5TdGF0dXMSFgoOdXBzZXJ0ZWRfY291bnQYAiABKAUihQEKDFF1ZXJ5UmVxdWVzdBIXCg9jb2xsZWN0aW9uX25hbWUYASABKAkSFAoMcXVlcnlfdmVjdG9yGAIgAygCEg0KBXRvcF9rGAMgASgFEiwKBmZpbHRlchgEIAEoCzIXLmdvb2dsZS5wcm90b2J1Zi5TdHJ1Y3RIAIgBAUIJCgdfZmlsdGVyIl4KDVF1ZXJ5UmVzcG9uc2USIQoGc3RhdHVzGAEgASgLMhEuY29tbW9uLnYxLlN0YXR1cxIqCgdyZXN1bHRzGAIgAygLMhkudmVjdG9yX2RiLnYxLlF1ZXJ5UmVzdWx0MpwBCg9WZWN0b3JEQlNlcnZpY2USRQoGVXBzZXJ0EhsudmVjdG9yX2RiLnYxLlVwc2VydFJlcXVlc3QaHC52ZWN0b3JfZGIudjEuVXBzZXJ0UmVzcG9uc2UiABJCCgVRdWVyeRIaLnZlY3Rvcl9kYi52MS5RdWVyeVJlcXVlc3QaGy52ZWN0b3JfZGIudjEuUXVlcnlSZXNwb25zZSIAQrMBChBjb20udmVjdG9yX2RiLnYxQg1WZWN0b3JEYlByb3RvUAFaQ2dpdGh1Yi5jb20vc3BvdW5nZS1haS9zcG91bmdlLXByb3Rvcy9nZW4vZ28vdmVjdG9yX2RiL3YxO3ZlY3RvcmRidjGiAgNWWFiqAgtWZWN0b3JEYi5WMcoCC1ZlY3RvckRiXFYx4gIXVmVjdG9yRGJcVjFcR1BCTWV0YWRhdGHqAgxWZWN0b3JEYjo6VjFiBnByb3RvMw", [file_common_v1_common, file_google_protobuf_struct]);

/**
 * A single vector with its ID and metadata.
 *
 * @generated from message vector_db.v1.Vector
 */
export type Vector = Message<"vector_db.v1.Vector"> & {
  /**
   * @generated from field: string id = 1;
   */
  id: string;

  /**
   * @generated from field: repeated float values = 2;
   */
  values: number[];

  /**
   * Arbitrary metadata associated with the vector.
   *
   * @generated from field: google.protobuf.Struct metadata = 3;
   */
  metadata?: JsonObject;
};

/**
 * Describes the message vector_db.v1.Vector.
 * Use `create(VectorSchema)` to create a new message.
 */
export const VectorSchema: GenMessage<Vector> = /*@__PURE__*/
  messageDesc(file_vector_db_v1_vector_db, 0);

/**
 * A result from a similarity search query.
 *
 * @generated from message vector_db.v1.QueryResult
 */
export type QueryResult = Message<"vector_db.v1.QueryResult"> & {
  /**
   * @generated from field: string id = 1;
   */
  id: string;

  /**
   * @generated from field: float score = 2;
   */
  score: number;

  /**
   * @generated from field: google.protobuf.Struct metadata = 3;
   */
  metadata?: JsonObject;
};

/**
 * Describes the message vector_db.v1.QueryResult.
 * Use `create(QueryResultSchema)` to create a new message.
 */
export const QueryResultSchema: GenMessage<QueryResult> = /*@__PURE__*/
  messageDesc(file_vector_db_v1_vector_db, 1);

/**
 * Request to add or update vectors in a collection.
 *
 * @generated from message vector_db.v1.UpsertRequest
 */
export type UpsertRequest = Message<"vector_db.v1.UpsertRequest"> & {
  /**
   * The collection to upsert into.
   *
   * @generated from field: string collection_name = 1;
   */
  collectionName: string;

  /**
   * @generated from field: repeated vector_db.v1.Vector vectors = 2;
   */
  vectors: Vector[];
};

/**
 * Describes the message vector_db.v1.UpsertRequest.
 * Use `create(UpsertRequestSchema)` to create a new message.
 */
export const UpsertRequestSchema: GenMessage<UpsertRequest> = /*@__PURE__*/
  messageDesc(file_vector_db_v1_vector_db, 2);

/**
 * @generated from message vector_db.v1.UpsertResponse
 */
export type UpsertResponse = Message<"vector_db.v1.UpsertResponse"> & {
  /**
   * @generated from field: common.v1.Status status = 1;
   */
  status?: Status;

  /**
   * @generated from field: int32 upserted_count = 2;
   */
  upsertedCount: number;
};

/**
 * Describes the message vector_db.v1.UpsertResponse.
 * Use `create(UpsertResponseSchema)` to create a new message.
 */
export const UpsertResponseSchema: GenMessage<UpsertResponse> = /*@__PURE__*/
  messageDesc(file_vector_db_v1_vector_db, 3);

/**
 * Request to query a collection for similar vectors.
 *
 * @generated from message vector_db.v1.QueryRequest
 */
export type QueryRequest = Message<"vector_db.v1.QueryRequest"> & {
  /**
   * @generated from field: string collection_name = 1;
   */
  collectionName: string;

  /**
   * The vector to find neighbors for.
   *
   * @generated from field: repeated float query_vector = 2;
   */
  queryVector: number[];

  /**
   * The number of results to return.
   *
   * @generated from field: int32 top_k = 3;
   */
  topK: number;

  /**
   * Optional filter to apply to the search.
   *
   * @generated from field: optional google.protobuf.Struct filter = 4;
   */
  filter?: JsonObject;
};

/**
 * Describes the message vector_db.v1.QueryRequest.
 * Use `create(QueryRequestSchema)` to create a new message.
 */
export const QueryRequestSchema: GenMessage<QueryRequest> = /*@__PURE__*/
  messageDesc(file_vector_db_v1_vector_db, 4);

/**
 * @generated from message vector_db.v1.QueryResponse
 */
export type QueryResponse = Message<"vector_db.v1.QueryResponse"> & {
  /**
   * @generated from field: common.v1.Status status = 1;
   */
  status?: Status;

  /**
   * @generated from field: repeated vector_db.v1.QueryResult results = 2;
   */
  results: QueryResult[];
};

/**
 * Describes the message vector_db.v1.QueryResponse.
 * Use `create(QueryResponseSchema)` to create a new message.
 */
export const QueryResponseSchema: GenMessage<QueryResponse> = /*@__PURE__*/
  messageDesc(file_vector_db_v1_vector_db, 5);

/**
 * VectorDBService is an internal service for RAG, typically called by PolykeyService.
 *
 * @generated from service vector_db.v1.VectorDBService
 */
export const VectorDBService: GenService<{
  /**
   * @generated from rpc vector_db.v1.VectorDBService.Upsert
   */
  upsert: {
    methodKind: "unary";
    input: typeof UpsertRequestSchema;
    output: typeof UpsertResponseSchema;
  },
  /**
   * @generated from rpc vector_db.v1.VectorDBService.Query
   */
  query: {
    methodKind: "unary";
    input: typeof QueryRequestSchema;
    output: typeof QueryResponseSchema;
  },
}> = /*@__PURE__*/
  serviceDesc(file_vector_db_v1_vector_db, 0);

